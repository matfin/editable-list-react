<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React Editable List</title>
    <link rel="stylesheet" type="text/css" href="base.css" />
  </head>
  <body>
    <div id="container">
      <div id="editor">
        <h1>Add some items to this list</h1>
        <div id="emails-input"></div>
      </div>
      <div id="actions">
        <button id="add-email" class="action-button">
          Add Email
        </button>
        <button id="get-count" class="action-button">
          Get emails count
        </button>
      </div>
    </div>
    <script src="emails-input.js"></script>
    <script type="text/javascript">
      var root = document.querySelector('#emails-input');
      var emailAddresses = [
        'me@mattfinucane.com',
        'test@one.nl',
        'another@two.de',
        'three@four.ru',
        'five@six-seven.yu',
        'someone@somewhere.com',
      ];
      var randomNumberInRange = function (min, max) {
        return Math.floor(Math.random() * (max - min) + min);
      };

      // initialise the component
      emailBoard.init(root);

      // add a random email
      document.querySelector('#add-email').addEventListener('click', function () {
        var index = randomNumberInRange(0, emailAddresses.length);

        emailBoard.addRandomEmail(emailAddresses[index]);
      });

      // get email count
      document.querySelector('#get-count').addEventListener('click', function () {
        var emailBlockNodes = document.querySelectorAll('#emails-input div[data-testid="email-block"]');

        alert(emailBlockNodes.length);
      });

    </script>
  </body>
</html>
